<!DOCTYPE html>
<html>

<head>
    
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">

<meta name="description" content="Benjamin Ortiz">

<meta name="twitter:card" content="summary">
<meta name="twitter:domain" content="/">

<meta name="twitter:image" content="/tn.png">
<meta name="twitter:title" property="og:title" itemprop="title name" content="Benjamin Ortiz">
<meta name="twitter:description" property="og:description" itemprop="description" content="Benjamin Ortiz">
<meta name="og:type" content="website">
<meta name="og:url" content="/">
<meta name="og:image" itemprop="image primaryImageOfPage" content="/tn.png">

<link rel="shortcut icon" href="/sam.ico" id="favicon">
<link rel="stylesheet" href="/css/style.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Didact+Gothic">


    

    
    
    
    <title>
        
        Preventing Multiple Submissions
        
    </title>
</head>

<body>
    <div class="wrap">
        <div class="section" id="title">Preventing Multiple Submissions</div>

        
<div class="section" id="content">
    <span class="secondary-text">
      Jun 20, 2016 &#183; 154 words
    </span>
    
    <div class="tag-container">
        
        <span class="tag">
            <a href="/tags/ruby">
                ruby
            </a>
        </span>
        
        <span class="tag">
            <a href="/tags/rails">
                rails
            </a>
        </span>
        
    </div>
    
    <hr/>
    <p>I have a gem that has been giving me trouble lately. It saved me
countless hours of dev time upfront, but is beginning to cause me
problems now that I want to extend it. I learned quickly how to clone
and edit a gem locally using the <code>gem gem_name, path: 'path/to/local/gem'</code>,
to get the changes I personally needed.</p>

<p>The difficulty came when, for some yet inexplicable reason, it was causing
duplicate calls. Rather than spend more time digging deeper into the gem
to solve that problem too, I decided to make my own code more robust by
preventing duplicates all together.</p>

<p>I did this by wrapping my original create code in an <code>unless</code>. Now, no
matter how many times this gem submits to my controller, it&rsquo;ll only run
the code once.</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ruby" data-lang="ruby"><span style="color:#069;font-weight:bold">def</span> <span style="color:#c0f">method_name</span>
  <span style="color:#069;font-weight:bold">unless</span> organization<span style="color:#555">.</span>subscribed?
    <span style="color:#09f;font-style:italic"># subscribe the org</span>
  <span style="color:#069;font-weight:bold">end</span>

  <span style="color:#069;font-weight:bold">if</span> organization<span style="color:#555">.</span>subscribed?
    <span style="color:#09f;font-style:italic"># sub succeeded, get out</span>
  <span style="color:#069;font-weight:bold">else</span>
    <span style="color:#09f;font-style:italic"># handle some errors</span>
  <span style="color:#069;font-weight:bold">end</span>
<span style="color:#069;font-weight:bold">end</span></code></pre></div>
</div>


        
<div class="section bottom-menu">
    
<hr />
<p>


    
        <a href="/posts">back</a>
        
            &#183;
        
    

    
        
            <a href="/about">hello</a>
        

    
        
            &#183; <a href="/posts">posts</a>
        
    
    &#183; <a href="/">main</a>

</p>

</div>


        <div class="section footer"></div>
    </div>
</body>

</html>
